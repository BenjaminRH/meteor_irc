<head>
  <title>meteor_irc</title>
</head>

<body>
  <div class="container">
    <div class="row">
      {{> secretForm}}
    </div>
  </div>
  {{> dashboard}}
</body>

<template name="secretForm">
  {{#if isMissingSecret}}
    <form class="navbar-form pull-left">
      <label>Secret:
        <input type="text" class="secret-input"/>
      </label>
      <label>Channel:
        <input type="text" class="channel-input"/>
      </label>
      <label>Bot nick:
        <input type="text" class="nick-input"/>
      </label>
      <input type="submit" value="Submit secret"/>
    </form>
  {{/if}}
</template>

<template name="dashboard">
  <h3>Recent messages</h3>
  {{{recentMessages}}}
  <h3>Top active</h3>
  {{{topActive}}}
  <h3>Top URLs</h3>
  {{{topURLs}}}
  <h3>Online</h3>
  {{{onlineCount}}}
  <h3>Online</h3>
  {{{online}}}
  <h3>Messages today</h3>
  {{{messagesToday}}}
  <h3>Messages per hour</h3>
  {{{messagesPerHour}}}
  <h3>Messages per day</h3>
  {{{messagesPerDay}}}
</template>

<template name="list">
  <ul class="list">
    {{#each this}}
      <li>
        <span class="date">{{date}}<span>
        <span class="nick">&lt;{{nick}}&gt;<span>
        <span class="message">{{message}}</span>
      </li>
    {{/each}}
  </ul>
</template>

<template name="leaderboard">
  <ul class="leaderboard">
    {{#each this}}
      <li>
        <span class="count">{{count}}</span>
        {{#if isURL}}
        <a target="_blank" href="{{name}}" class="name">{{name}}</a>
        {{else}}
        <span class="name">{{name}}<span>
        {{/if}}
      </li>
    {{/each}}
  </ul>
</template>

<template name="number">
  <div class="number">
    {{this}}
  </div>
</template>

<template name="linechart">
  <div class="linechart-container">
    <svg data-id="{{id}}" class="linechart"></svg>
  </div>
</template>
